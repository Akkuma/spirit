TODO

Explain how to write middleware, and why it's written like so (wrapping)
